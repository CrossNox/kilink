{% extends "base.html" %}
{% from "helpers.html" import text_options%}
{% block main %}

<div class="col-md-12">
    <div class="row">
        <div class="col-md-10">
            <form action="/{{ kid_info }}" method="POST" id="pasteform" name="pasteform">
                <div class="row ">
                        <textarea id='code' name='content' placeholder="{{ _('Write (or paste) your text here and click on Create linkode.') }}">{{content}}</textarea>
                </div>
                <div class="row bar-container">
                    <div id="timestamp" class="col-md-5 kilink-timestamp"></div>
                    <div id="current_node" class="col-md-2"></div> <!-- For future current kilink icon -->
                    <div class="col-md-5 pull-right kilink-buttons buttons">
                            {{ _("Select a text type:") }}&nbsp; 
                        <select onchange="editor.selectMode()" id=selectlang class='' name="text_type">
                            {{text_options("{{text_type}}")}}
                        </select>

                        <button type="submit" value="{{button_text}}" class='btn btn-success'>{{button_text}}</button>
                        <button id="text_type" value="{{text_type}}" style="display:none">{{text_type}}</button>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-md-2">
            <div class="klk-tree" id="kilink-tree-span"></div>
        </div>
    </div>
</div>

<link type="text/css" href="{{ url_for('static', filename='theme/monokai.css') }}" rel="stylesheet">
<link type="text/css" href="{{ url_for('static', filename='lib/codemirror.css') }}" rel="stylesheet">
<link type="text/css" href="{{ url_for('static', filename='css/placeholder.css') }}" rel="stylesheet">

<script src='/static/lib/d3.min.js'></script>
<script src='/static/lib/codemirror.min.js'></script>
<script src="/static/lib/highlight.js/highlight.pack.js"></script>

<!-- Languages -->
<script src='/static/mode/clike/clike.js'></script>
<script src='/static/mode/clojure/clojure.js'></script>
<script src='/static/mode/coffeescript/coffeescript.js'></script>
<script src='/static/mode/css/css.js'></script>
<script src='/static/mode/d/d.js'></script>
<script src='/static/mode/diff/diff.js'></script>
<script src='/static/mode/erlang/erlang.js'></script>
<script src='/static/mode/go/go.js'></script>
<script src='/static/mode/haskell/haskell.js'></script>
<script src='/static/mode/htmlmixed/htmlmixed.js'></script>
<script src='/static/mode/http/http.js'></script>
<script src='/static/mode/javascript/javascript.js'></script>
<script src='/static/mode/lua/lua.js'></script>
<script src='/static/mode/markdown/markdown.js'></script>
<script src='/static/mode/php/php.js'></script>
<script src='/static/mode/perl/perl.js'></script>
<script src='/static/mode/python/python.js'></script>
<script src='/static/mode/r/r.js'></script>
<script src='/static/mode/ruby/ruby.js'></script>
<!-- <script src='/static/mode/rust/rust.js'></script> -->
<script src='/static/mode/shell/shell.js'></script>
<script src='/static/mode/smalltalk/smalltalk.js'></script>
<script src='/static/mode/sql/sql.js'></script>
<script src='/static/mode/stex/stex.js'></script>
<script src='/static/mode/vbscript/vbscript.js'></script>
<script src='/static/mode/xml/xml.js'></script>
<!-- End Languages -->

<!-- <script src='/static/js/placeholder.js'></script> -->
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/tooltipster.bundle.css') }}" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='addon/display/fullscreen.css') }}" rel="stylesheet">
<script type="text/javascript" src="{{ url_for('static', filename='lib/tooltipster.bundle.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='addon/display/fullscreen.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='addon/display/placeholder.js') }}"></script>
<!-- <script src='/static/js/editor.js'></script> -->
<script type="text/javascript" src='/static/js/main.js'></script>

<script type="text/javascript">

editor.init({});

$(document).ready(function(){

    linkode.init({
        time_stamp : "{{ timestamp }}",
        node_list : {{ tree_info|safe }},
        current_revno: "{{ current_revno }}",
        text_datetime: "{{ _('Created on') }} ",
        text_tooltip: "{{ _('See node\'s version') }} ",
    })
});
</script>
{% endblock %}
